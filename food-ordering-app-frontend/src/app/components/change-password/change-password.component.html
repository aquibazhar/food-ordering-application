<div class="container">
  <div class="signin-heading">Change Password</div>
  <div class="center">
    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline" class="signin-form-field">
        <mat-label>Enter old password</mat-label>
        <input
          matInput
          formControlName="oldPassword"
          placeholder="Enter old password"
          type="password"
          class="oldPassword"
          (change)="onChange()"
        />
        <mat-icon matSuffix>lock</mat-icon>
        <mat-error
          *ngIf="(changePasswordForm.controls['oldPassword'].touched || changePasswordForm.controls['oldPassword'].dirty) && changePasswordForm.controls['oldPassword'].errors?.['required']"
        >
          Please enter you old password
        </mat-error>
        <mat-error
          *ngIf="(changePasswordForm.controls['oldPassword'].touched || changePasswordForm.controls['oldPassword'].dirty) && changePasswordForm.controls['oldPassword'].errors?.['pattern']"
        >
          The password should have atleast 8 characters, a number, an uppercase
          letter, a lowercase letter and a special character.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline" class="signin-form-field">
        <mat-label>Enter new password</mat-label>
        <input
          matInput
          formControlName="newPassword"
          placeholder="Enter new password"
          type="password"
          class="newPassword"
          (change)="onChange()"
        />
        <mat-icon matSuffix>lock</mat-icon>
        <mat-error
          *ngIf="(changePasswordForm.controls['newPassword'].touched || changePasswordForm.controls['newPassword'].dirty) && changePasswordForm.controls['newPassword'].errors?.['required']"
        >
          Password is mandatory.
        </mat-error>
        <mat-error
          *ngIf="(changePasswordForm.controls['newPassword'].touched || changePasswordForm.controls['newPassword'].dirty) && changePasswordForm.controls['newPassword'].errors?.['pattern']"
        >
          The password should have atleast 8 characters, a number, an uppercase
          letter, a lowercase letter and a special character.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline" class="signin-form-field">
        <mat-label>Please confirm your password</mat-label>
        <input
          matInput
          formControlName="confirmPassword"
          placeholder="Please confirm your password"
          type="password"
          class="password"
          appConfirmPasswordValidator
          [password]="passwordTyped"
        />
        <mat-icon matSuffix>lock</mat-icon>
        <mat-error
          *ngIf="(changePasswordForm.controls['confirmPassword'].touched || changePasswordForm.controls['confirmPassword'].dirty) && changePasswordForm.controls['confirmPassword'].errors?.['required']"
        >
          This field is mandatory.
        </mat-error>
        <mat-error
          *ngIf="(changePasswordForm.controls['confirmPassword'].touched || changePasswordForm.controls['confirmPassword'].dirty) && changePasswordForm.controls['confirmPassword'].errors?.['confirmPasswordValid']"
        >
          Passwords didn't match
        </mat-error>
      </mat-form-field>
      <button
        [disabled]="!changePasswordForm.valid"
        type="submit"
        color="primary"
        mat-raised-button
        class="create-button"
        color="primary"
      >
        Change Password
      </button>
    </form>
  </div>
</div>
